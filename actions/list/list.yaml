runtime: plugin
action:
  title: List
  description: List chassis paths
  arguments:
    - name: chassis
      title: Chassis
      description: Chassis path to filter (shows path and children)
      required: false
  options:
    - name: dir
      shorthand: d
      title: Directory
      description: Working directory (defaults to current)
      type: string
      default: "."
    - name: tree
      shorthand: t
      title: Tree
      description: Show as tree instead of flat list
      type: boolean
      default: false
  result:
    type: object
    properties:
      chassis:
        type: array
        description: List of chassis paths
        items:
          type: string
      tree:
        type: array
        description: Chassis paths enriched with node/component relations (only in tree mode)
        items:
          type: object
          properties:
            path:
              type: string
              description: Chassis path
            nodes:
              type: array
              description: Nodes allocated to this path
              items:
                type: string
            components:
              type: array
              description: Components attached to this path
              items:
                type: string
