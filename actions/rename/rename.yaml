runtime: plugin
action:
  title: Rename
  description: Rename a chassis path segment and update all allocations and attachments. Both paths must have the same depth (number of segments).
  arguments:
    - name: old
      title: Old Path
      description: Current chassis path
      required: true
    - name: new
      title: New Path
      description: New chassis path
      required: true
  options:
    - name: dir
      shorthand: d
      title: Directory
      description: Working directory (defaults to current)
      type: string
      default: "."
    - name: dry-run
      title: Dry Run
      description: Show what would change without modifying files
      type: boolean
      default: false
  result:
    type: object
    properties:
      old:
        type: string
        description: Previous chassis path
      new:
        type: string
        description: New chassis path
      updated_attachments:
        type: array
        description: Playbook files updated with new chassis path
        items:
          type: string
      updated_allocations:
        type: array
        description: Allocation files updated with new chassis path
        items:
          type: string
